"use strict";(self.webpackChunkcinema=self.webpackChunkcinema||[]).push([[923],{6923:(e,s,a)=>{a.r(s),a.d(s,{default:()=>k});var t=a(2791),l=a(4690),n=a(8362);const r={form:"signup_form__GcxdC",form__title:"signup_form__title__exJP3",form__inp:"signup_form__inp__OgY++",exit:"signup_exit__QVwrl",exit__login_p:"signup_exit__login_p__clkFm"};var c=a(8721),i=a(5901),o=a(2381),u=a(184);const _=()=>{const e=(0,c.T)(),[s,a]=t.useState(""),[_,m]=t.useState(""),[p,h]=t.useState(""),[d,x]=t.useState("");return(0,u.jsx)("div",{children:(0,u.jsxs)("form",{className:r.form,onSubmit:t=>{t.preventDefault(),_===p?(0,l.Xb)(n.I,s,_).then((s=>{e((0,i.QV)({email:s.user.email,id:s.user.uid,token:"\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c \u0435\u0441\u0442\u044c"})),x(""),a(""),m(""),h("")})).catch((e=>alert(e.message))):x("Passwords didn't match")},children:[(0,u.jsx)("h2",{className:r.form__title,children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),(0,u.jsx)("input",{className:r.form__inp,placeholder:"email",value:s,onChange:e=>a(e.currentTarget.value),type:"email"}),(0,u.jsx)("input",{className:r.form__inp,placeholder:"password",value:_,onChange:e=>m(e.currentTarget.value),type:"password"}),(0,u.jsx)("input",{className:r.form__inp,placeholder:"copy password",value:p,onChange:e=>h(e.currentTarget.value),type:"password"}),(0,u.jsx)(o.z,{type:"submit",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),!!d&&(0,u.jsx)("p",{style:{color:"red"},children:d})]})})};var m=a(4157),p=a(7689),h=a(1363);const d=()=>{const e=(0,p.s0)(),s=(0,c.T)(),[a,_]=t.useState(""),[d,x]=t.useState(""),[j,f]=t.useState(""),{isAuth:g}=(0,m.a)();return(0,u.jsx)("div",{children:g?(0,u.jsx)(h.a,{}):(0,u.jsxs)("form",{className:r.form,children:[(0,u.jsx)("h2",{className:r.form__title,children:"\u0412\u043e\u0439\u0442\u0438"}),(0,u.jsx)("input",{className:r.form__inp,placeholder:"email",value:a,onChange:e=>_(e.currentTarget.value),type:"email"}),(0,u.jsx)("input",{className:r.form__inp,placeholder:"password",value:d,onChange:e=>x(e.currentTarget.value),type:"password"}),(0,u.jsx)(o.z,{onClick:t=>{t&&t.preventDefault(),(0,l.e5)(n.I,a,d).then((a=>{s((0,i.QV)({email:a.user.email,id:a.user.uid,token:"\u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c \u0435\u0441\u0442\u044c"})),f(""),_(""),x(""),setTimeout((()=>{e("/")}),1500)})).catch((e=>f("account didn't search. ".concat(e.message))))},children:"\u0412\u043e\u0439\u0442\u0438"}),!!j&&(0,u.jsx)("p",{style:{color:"red"},children:j})]})})},x=()=>{const e=(0,c.T)(),[s,a]=t.useState(null);t.useEffect((()=>{const e=(0,l.Aj)(n.I,(e=>{a(e||null)}));return()=>e()}),[]);return(0,u.jsx)("div",{className:r.exit,children:s?(0,u.jsxs)("div",{className:r.exit__login,children:[(0,u.jsx)("p",{className:r.exit__login_p,children:"\u0412\u044b \u0432\u043e\u0448\u043b\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 ".concat(s.email)}),(0,u.jsx)(o.z,{onClick:()=>{(0,l.w7)(n.I).then((()=>{e((0,i.M7)())})).catch((e=>alert(e.message)))},children:"\u0412\u044b\u0439\u0442\u0438"})]}):(0,u.jsx)("p",{className:r.exit__out,children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})})},j="auth_auth__6jakP",f="auth_back__rtqyl",g="auth_auth__span__vkpeG";var v=a(4486);const k=t.memo((()=>{const e=(0,p.s0)(),[s,a]=t.useState(!0),l=(0,t.useCallback)((()=>a((e=>!e))),[a]),n=(0,t.useCallback)((()=>e(-1)),[e]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("section",{className:j,children:[(0,u.jsx)("button",{className:f,onClick:n,children:" \ud83e\udc14 \u041d\u0430\u0437\u0430\u0434"}),s?(0,u.jsx)(_,{}):(0,u.jsx)(d,{}),(0,u.jsx)("span",{className:g,onClick:l,style:{color:"white"},children:s?"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442":"\u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),(0,u.jsx)(x,{})]}),(0,u.jsx)(v.$,{})]})}))}}]);
//# sourceMappingURL=923.85f53d86.chunk.js.map