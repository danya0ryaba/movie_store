{"version":3,"file":"static/js/923.85db8bd7.chunk.js","mappings":"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","sources":["webpack://cinema/./src/components/authLogin/signup.module.scss?07f5","components/authLogin/SignUp.tsx","components/authLogin/SignIn.tsx","components/authLogin/AuthDetails.tsx","webpack://cinema/./src/page/Auth/auth.module.scss?755a","page/Auth/Auth.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"signup_form__GcxdC\",\"form__title\":\"signup_form__title__exJP3\",\"form__inp\":\"signup_form__inp__OgY++\",\"exit\":\"signup_exit__QVwrl\",\"exit__login_p\":\"signup_exit__login_p__clkFm\"};","import { createUserWithEmailAndPassword } from 'firebase/auth'\r\nimport React, { FormEvent } from 'react'\r\nimport { auth } from '../../firebase'\r\nimport style from './signup.module.scss'\r\nimport { useAppDispatch } from '../../store/hooks/redux'\r\nimport { setAuth } from '../../store/auth/authSlice'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { Button } from '../button/Button'\r\n\r\nexport const SignUp: React.FC = () => {\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const dispatch = useAppDispatch()\r\n\r\n    const [email, setEmail] = React.useState('')\r\n    const [password, setPassword] = React.useState('')\r\n    const [copyPassword, setCopyPassword] = React.useState('')\r\n\r\n    const [error, setError] = React.useState('')\r\n\r\n    const register = (e: FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault()\r\n        if (password !== copyPassword) {\r\n            setError(\"Passwords didn't match\")\r\n            return\r\n        }\r\n        createUserWithEmailAndPassword(auth, email, password)\r\n            .then((user) => {\r\n                dispatch(setAuth({\r\n                    email: user.user.email,\r\n                    id: user.user.uid,\r\n                    token: 'допустим есть'\r\n                }))\r\n                setError(\"\")\r\n                setEmail(\"\")\r\n                setPassword(\"\")\r\n                setCopyPassword(\"\")\r\n                setTimeout(() => {\r\n                    navigate('/')\r\n                }, 2000)\r\n            })\r\n            .catch((error) => alert(error.message))\r\n    }\r\n\r\n    return <div>\r\n        <form className={style.form} onSubmit={register}>\r\n            <h2 className={style.form__title}>Создать аккаунт</h2>\r\n            <input className={style.form__inp} placeholder='email' value={email} onChange={(e) => setEmail(e.currentTarget.value)} type=\"email\" />\r\n            <input className={style.form__inp} placeholder='password' value={password} onChange={(e) => setPassword(e.currentTarget.value)} type=\"password\" />\r\n            <input className={style.form__inp} placeholder='copy password' value={copyPassword} onChange={(e) => setCopyPassword(e.currentTarget.value)} type=\"password\" />\r\n            <Button type='submit'>Создать аккаунт</Button>{error ? <p style={{ color: 'red' }}>{error}</p> : false}\r\n            {/* <button type='submit' className={style.form__btn}>Создать аккаунт</button>{error ? <p style={{ color: 'red' }}>{error}</p> : false} */}\r\n        </form>\r\n    </div>\r\n}\r\n","import { signInWithEmailAndPassword } from 'firebase/auth'\r\nimport React, { MouseEvent } from 'react'\r\nimport { auth } from '../../firebase'\r\nimport style from './signup.module.scss'\r\nimport { useAuth } from '../../hook/useAuth'\r\nimport { useAppDispatch } from '../../store/hooks/redux'\r\nimport { setAuth } from '../../store/auth/authSlice'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { Loader } from '../loader/Loader'\r\nimport { Button } from '../button/Button'\r\n\r\nexport const SignIn: React.FC = () => {\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const dispatch = useAppDispatch()\r\n\r\n    const [email, setEmail] = React.useState('')\r\n    const [password, setPassword] = React.useState('')\r\n    const [error, setError] = React.useState('')\r\n\r\n    const { isAuth } = useAuth()\r\n\r\n    const logIn = (e?: MouseEvent<HTMLButtonElement>) => {\r\n        e && e.preventDefault()\r\n        signInWithEmailAndPassword(auth, email, password)\r\n            .then((user) => {\r\n                dispatch(setAuth({\r\n                    email: user.user.email,\r\n                    id: user.user.uid,\r\n                    token: 'допустим есть'\r\n                }))\r\n                setError(\"\")\r\n                setEmail(\"\")\r\n                setPassword(\"\")\r\n                setTimeout(() => {\r\n                    navigate('/')\r\n                }, 1500)\r\n            })\r\n            .catch((error) => setError(`account didn't search. ${error.message}`))\r\n    }\r\n\r\n    return <div>\r\n        {!isAuth ?\r\n            <form className={style.form}>\r\n                <h2 className={style.form__title}>Войти</h2>\r\n                <input className={style.form__inp} placeholder='email' value={email} onChange={(e) => setEmail(e.currentTarget.value)} type=\"email\" />\r\n                <input className={style.form__inp} placeholder='password' value={password} onChange={(e) => setPassword(e.currentTarget.value)} type=\"password\" />\r\n                <Button onClick={logIn}>Войти</Button>\r\n                {error ? <p style={{ color: 'red' }}>{error}</p> : false}\r\n            </form>\r\n            :\r\n            <Loader />}\r\n    </div>\r\n}\r\n","import { onAuthStateChanged, signOut } from 'firebase/auth'\r\nimport React from 'react'\r\nimport { auth } from '../../firebase'\r\nimport style from './signup.module.scss'\r\nimport { useAppDispatch } from '../../store/hooks/redux'\r\nimport { removeAuth } from '../../store/auth/authSlice'\r\nimport { Button } from '../button/Button'\r\nimport { User } from \"firebase/auth\";\r\n\r\nexport const AuthDetails: React.FC = () => {\r\n\r\n    const dispatch = useAppDispatch()\r\n\r\n    const [authUser, setAuthUser] = React.useState<User | null>(null)\r\n\r\n    React.useEffect(() => {\r\n        const listen = onAuthStateChanged(auth, (user) => {\r\n            if (user) setAuthUser(user)\r\n            else setAuthUser(null)\r\n        })\r\n        return () => listen()\r\n    }, [])\r\n\r\n    const userSignOut = () => {\r\n        signOut(auth)\r\n            .then(() => { dispatch(removeAuth()) })\r\n            .catch((error) => alert(error.message))\r\n    }\r\n\r\n    return <div className={style.exit}>\r\n        {authUser ?\r\n            <div className={style.exit__login}>\r\n                <p className={style.exit__login_p}>{`Вы вошли в аккаунт ${authUser.email}`}</p>\r\n                <Button onClick={userSignOut}>Выйти</Button>\r\n            </div> : <p className={style.exit__out}>Выйти из аккаунта</p>}\r\n    </div>\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"auth\":\"auth_auth__6jakP\",\"back\":\"auth_back__rtqyl\",\"auth__span\":\"auth_auth__span__vkpeG\"};","import React, { useCallback } from 'react'\r\nimport { SignUp } from '../../components/authLogin/SignUp'\r\nimport { SignIn } from '../../components/authLogin/SignIn'\r\nimport { AuthDetails } from '../../components/authLogin/AuthDetails'\r\nimport style from './auth.module.scss'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst Auth: React.FC = React.memo(() => {\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const [authState, setAuthState] = React.useState(true)\r\n\r\n    const onLoginAcc = useCallback(() => setAuthState((prev) => !prev), [setAuthState])\r\n\r\n    const onClickBack = useCallback(() => navigate(-1), [navigate])\r\n\r\n    return <section className={style.auth}>\r\n        <button className={style.back} onClick={onClickBack}> &#129044; Назад</button>\r\n        {authState ? <SignUp /> : <SignIn />}\r\n        <span className={style.auth__span} onClick={onLoginAcc} style={{ color: 'white' }}>\r\n            {authState ? 'Войти в аккаунт' : 'зарегестрироваться'}\r\n        </span>\r\n        <AuthDetails />\r\n    </section>\r\n})\r\n\r\nexport default Auth"],"names":["SignUp","navigate","useNavigate","dispatch","useAppDispatch","email","setEmail","React","password","setPassword","copyPassword","setCopyPassword","error","setError","_jsx","children","_jsxs","className","style","form","onSubmit","e","preventDefault","createUserWithEmailAndPassword","auth","then","user","setAuth","id","uid","token","setTimeout","catch","alert","message","form__title","form__inp","placeholder","value","onChange","currentTarget","type","Button","color","SignIn","isAuth","useAuth","Loader","onClick","signInWithEmailAndPassword","concat","AuthDetails","authUser","setAuthUser","listen","onAuthStateChanged","exit","exit__login","exit__login_p","userSignOut","signOut","removeAuth","exit__out","authState","setAuthState","onLoginAcc","useCallback","prev","onClickBack"],"sourceRoot":""}