{"version":3,"file":"static/js/923.85f53d86.chunk.js","mappings":"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","sources":["webpack://cinema/./src/components/authLogin/signup.module.scss?07f5","components/authLogin/SignUp.tsx","components/authLogin/SignIn.tsx","components/authLogin/AuthDetails.tsx","webpack://cinema/./src/page/Auth/auth.module.scss?755a","page/Auth/Auth.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"signup_form__GcxdC\",\"form__title\":\"signup_form__title__exJP3\",\"form__inp\":\"signup_form__inp__OgY++\",\"exit\":\"signup_exit__QVwrl\",\"exit__login_p\":\"signup_exit__login_p__clkFm\"};","import { createUserWithEmailAndPassword } from 'firebase/auth'\r\nimport React, { FormEvent } from 'react'\r\nimport { auth } from '../../firebase'\r\nimport style from './signup.module.scss'\r\nimport { useAppDispatch } from '../../store/hooks/redux'\r\nimport { setAuth } from '../../store/auth/authSlice'\r\nimport { Button } from '../button/Button'\r\n\r\nexport const SignUp: React.FC = () => {\r\n\r\n    const dispatch = useAppDispatch()\r\n\r\n    const [email, setEmail] = React.useState('')\r\n    const [password, setPassword] = React.useState('')\r\n    const [copyPassword, setCopyPassword] = React.useState('')\r\n\r\n    const [error, setError] = React.useState('')\r\n\r\n    const register = (e: FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault()\r\n        if (password !== copyPassword) {\r\n            setError(\"Passwords didn't match\")\r\n            return\r\n        }\r\n        createUserWithEmailAndPassword(auth, email, password)\r\n            .then((user) => {\r\n                dispatch(setAuth({\r\n                    email: user.user.email,\r\n                    id: user.user.uid,\r\n                    token: 'допустим есть'\r\n                }))\r\n                setError(\"\")\r\n                setEmail(\"\")\r\n                setPassword(\"\")\r\n                setCopyPassword(\"\")\r\n            })\r\n            .catch((error) => alert(error.message))\r\n    }\r\n\r\n    return <div>\r\n        <form className={style.form} onSubmit={register}>\r\n            <h2 className={style.form__title}>Создать аккаунт</h2>\r\n            <input className={style.form__inp} placeholder='email' value={email} onChange={(e) => setEmail(e.currentTarget.value)} type=\"email\" />\r\n            <input className={style.form__inp} placeholder='password' value={password} onChange={(e) => setPassword(e.currentTarget.value)} type=\"password\" />\r\n            <input className={style.form__inp} placeholder='copy password' value={copyPassword} onChange={(e) => setCopyPassword(e.currentTarget.value)} type=\"password\" />\r\n            <Button type='submit'>Создать аккаунт</Button>{error ? <p style={{ color: 'red' }}>{error}</p> : false}\r\n        </form>\r\n    </div>\r\n}\r\n","import { signInWithEmailAndPassword } from 'firebase/auth'\r\nimport React, { MouseEvent } from 'react'\r\nimport { auth } from '../../firebase'\r\nimport style from './signup.module.scss'\r\nimport { useAuth } from '../../hook/useAuth'\r\nimport { useAppDispatch } from '../../store/hooks/redux'\r\nimport { setAuth } from '../../store/auth/authSlice'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { Loader } from '../loader/Loader'\r\nimport { Button } from '../button/Button'\r\n\r\nexport const SignIn: React.FC = () => {\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const dispatch = useAppDispatch()\r\n\r\n    const [email, setEmail] = React.useState('')\r\n    const [password, setPassword] = React.useState('')\r\n    const [error, setError] = React.useState('')\r\n\r\n    const { isAuth } = useAuth()\r\n\r\n    const logIn = (e?: MouseEvent<HTMLButtonElement>) => {\r\n        e && e.preventDefault()\r\n        signInWithEmailAndPassword(auth, email, password)\r\n            .then((user) => {\r\n                dispatch(setAuth({\r\n                    email: user.user.email,\r\n                    id: user.user.uid,\r\n                    token: 'допустим есть'\r\n                }))\r\n                setError(\"\")\r\n                setEmail(\"\")\r\n                setPassword(\"\")\r\n                setTimeout(() => {\r\n                    navigate('/')\r\n                }, 1500)\r\n            })\r\n            .catch((error) => setError(`account didn't search. ${error.message}`))\r\n    }\r\n\r\n    return <div>\r\n        {!isAuth ?\r\n            <form className={style.form}>\r\n                <h2 className={style.form__title}>Войти</h2>\r\n                <input className={style.form__inp} placeholder='email' value={email} onChange={(e) => setEmail(e.currentTarget.value)} type=\"email\" />\r\n                <input className={style.form__inp} placeholder='password' value={password} onChange={(e) => setPassword(e.currentTarget.value)} type=\"password\" />\r\n                <Button onClick={logIn}>Войти</Button>\r\n                {error ? <p style={{ color: 'red' }}>{error}</p> : false}\r\n            </form>\r\n            :\r\n            <Loader />}\r\n    </div>\r\n}\r\n","import { onAuthStateChanged, signOut } from 'firebase/auth'\r\nimport React from 'react'\r\nimport { auth } from '../../firebase'\r\nimport style from './signup.module.scss'\r\nimport { useAppDispatch } from '../../store/hooks/redux'\r\nimport { removeAuth } from '../../store/auth/authSlice'\r\nimport { Button } from '../button/Button'\r\nimport { User } from \"firebase/auth\";\r\n\r\nexport const AuthDetails: React.FC = () => {\r\n\r\n    const dispatch = useAppDispatch()\r\n\r\n    const [authUser, setAuthUser] = React.useState<User | null>(null)\r\n\r\n    React.useEffect(() => {\r\n        const listen = onAuthStateChanged(auth, (user) => {\r\n            if (user) setAuthUser(user)\r\n            else setAuthUser(null)\r\n        })\r\n        return () => listen()\r\n    }, [])\r\n\r\n    const userSignOut = () => {\r\n        signOut(auth)\r\n            .then(() => { dispatch(removeAuth()) })\r\n            .catch((error) => alert(error.message))\r\n    }\r\n\r\n    return <div className={style.exit}>\r\n        {authUser ?\r\n            <div className={style.exit__login}>\r\n                <p className={style.exit__login_p}>{`Вы вошли в аккаунт ${authUser.email}`}</p>\r\n                <Button onClick={userSignOut}>Выйти</Button>\r\n            </div> : <p className={style.exit__out}>Выйти из аккаунта</p>}\r\n    </div>\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"auth\":\"auth_auth__6jakP\",\"back\":\"auth_back__rtqyl\",\"auth__span\":\"auth_auth__span__vkpeG\"};","import React, { useCallback } from 'react'\r\nimport { SignUp } from '../../components/authLogin/SignUp'\r\nimport { SignIn } from '../../components/authLogin/SignIn'\r\nimport { AuthDetails } from '../../components/authLogin/AuthDetails'\r\nimport style from './auth.module.scss'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { Footer } from '../../components/footer/Footer'\r\n\r\nconst Auth: React.FC = React.memo(() => {\r\n\r\n    const navigate = useNavigate()\r\n\r\n    const [authState, setAuthState] = React.useState(true)\r\n\r\n    const onLoginAcc = useCallback(() => setAuthState((prev) => !prev), [setAuthState])\r\n\r\n    const onClickBack = useCallback(() => navigate(-1), [navigate])\r\n\r\n    return <><section className={style.auth}>\r\n        <button className={style.back} onClick={onClickBack}> &#129044; Назад</button>\r\n        {authState ? <SignUp /> : <SignIn />}\r\n        <span className={style.auth__span} onClick={onLoginAcc} style={{ color: 'white' }}>\r\n            {authState ? 'Войти в аккаунт' : 'зарегестрироваться'}\r\n        </span>\r\n        <AuthDetails />\r\n    </section>\r\n        <Footer />\r\n    </>\r\n})\r\n\r\nexport default Auth"],"names":["SignUp","dispatch","useAppDispatch","email","setEmail","React","password","setPassword","copyPassword","setCopyPassword","error","setError","_jsx","children","_jsxs","className","style","form","onSubmit","e","preventDefault","createUserWithEmailAndPassword","auth","then","user","setAuth","id","uid","token","catch","alert","message","form__title","form__inp","placeholder","value","onChange","currentTarget","type","Button","color","SignIn","navigate","useNavigate","isAuth","useAuth","Loader","onClick","signInWithEmailAndPassword","setTimeout","concat","AuthDetails","authUser","setAuthUser","listen","onAuthStateChanged","exit","exit__login","exit__login_p","userSignOut","signOut","removeAuth","exit__out","authState","setAuthState","onLoginAcc","useCallback","prev","onClickBack","_Fragment","Footer"],"sourceRoot":""}